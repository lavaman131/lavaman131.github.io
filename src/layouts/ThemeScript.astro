<script is:inline>
  // Initialize theme immediately to prevent flash
  (function () {
    const getInitialTheme = () => {
      if (typeof localStorage !== "undefined") {
        const localStorageTheme = localStorage.getItem("catppuccin-theme");
        if (
          localStorageTheme &&
          ["latte", "mocha"].includes(localStorageTheme)
        ) {
          return localStorageTheme;
        }
      }
      // Default to latte for light mode preference, mocha for dark mode preference
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        return "mocha";
      }
      return "latte";
    };

    const theme = getInitialTheme();
    document.documentElement.setAttribute("data-theme", theme);
    document.documentElement.classList.add(theme);
    if (typeof localStorage !== "undefined") {
      localStorage.setItem("catppuccin-theme", theme);
    }
  })();
</script>

