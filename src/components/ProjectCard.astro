---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  href: string;
  image: ImageMetadata;
  githubUrl?: string;
  paperUrl?: string;
}

const { href, title, image, githubUrl, paperUrl } = Astro.props;
---

<div
  class="group h-full flex flex-col bg-ctp-mantle/50 backdrop-blur-sm rounded-xl border border-ctp-surface0/50 hover:shadow-lg hover:shadow-ctp-surface0/20 hover:-translate-y-0.5 transition-all duration-500 hover:border-ctp-mauve/40 overflow-hidden hover:bg-ctp-mantle/80"
>
  <a href={href} class="unset flex flex-col h-full text-ctp-text no-underline">
    <!-- Image Container -->
    <div class="relative w-full aspect-[16/10] overflow-hidden">
      <Image
        src={image}
        alt={title}
        class="w-full h-full object-cover object-center group-hover:scale-102 transition-transform duration-500"
      />
      <!-- Subtle overlay on hover -->
      <div
        class="absolute inset-0 bg-gradient-to-t from-ctp-mantle/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
      >
      </div>
    </div>

    <!-- Content Container -->
    <div class="flex flex-col flex-1 p-6 space-y-3">
      <h3
        class="text-xl font-medium text-ctp-text leading-snug line-clamp-2 group-hover:text-ctp-mauve transition-all duration-300 tracking-tight"
      >
        {title}
      </h3>

      <!-- Spacer -->
      <div class="flex-grow"></div>

      <!-- Action Links -->
      <div class="flex items-center justify-end gap-6 pt-2">
        {
          githubUrl && (
            <a
              href={githubUrl}
              class="inline-flex items-center gap-2 text-ctp-subtext1 hover:text-ctp-mauve transition-all duration-300 no-underline font-medium tracking-wide"
              target="_blank"
              rel="noopener noreferrer"
              onclick="(e) => e.stopPropagation()"
            >
              <Icon name="fa-brands:github" class="w-4 h-4" />
              <span class="text-xs uppercase">Code</span>
            </a>
          )
        }
        {
          paperUrl && (
            <a
              href={paperUrl}
              class="inline-flex items-center gap-2 text-ctp-subtext1 hover:text-ctp-sapphire transition-all duration-300 no-underline font-medium tracking-wide"
              target="_blank"
              rel="noopener noreferrer"
              onclick="(e) => e.stopPropagation()"
            >
              <Icon name="fa-solid:file-pdf" class="w-4 h-4" />
              <span class="text-xs uppercase">Paper</span>
            </a>
          )
        }
      </div>
    </div>
  </a>
</div>
